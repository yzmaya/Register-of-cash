<!DOCTYPE html>
 <html>
  <head>
   <meta charset="UTF-8">
   <title>Almacenamiento en Firebase</title>
   <style media="screen">
    

      #uploader {
        -webkit-appearance: none;
        appearance: none;
        width: 50%;
        margin-bottom: 10px;
      }


   </style>   

  </head>

  <body>
    <progress value="0" max="100" id="uploader">0%</progress>
    <input type="file" value="upload" id="fileButton" />


   <script src="https://www.gstatic.com/firebasejs/6.3.4/firebase-app.js"></script>

<script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-storage.js"></script>
    <script>
    
      // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyC7kBXyd1LcKq4JJiW-3JlhcBOJPtNucHM",
    authDomain: "reco-2cabc.firebaseapp.com",
    databaseURL: "https://reco-2cabc.firebaseio.com",
    projectId: "reco-2cabc",
    storageBucket: "reco-2cabc.appspot.com",
    messagingSenderId: "775658028653",
    appId: "1:775658028653:web:05fbc136e9d85bb9350964",
    measurementId: "G-Q71KJZLVWE"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);

      // Obtener Elementos
      var uploader = document.getElementById('uploader');
      var fileButton = document.getElementById('fileButton');

      // Vigilar selecci√≥n archivo
      fileButton.addEventListener('change', function(e) {
        //Obtener archivo
        var file = e.target.files[0];

        // Crear un storage ref
        var storageRef = firebase.storage().ref('mis_fotos/' + file.name);


        // Subir archivo
        var task = storageRef.put(file);

        // Actualizar barra progreso
        task.on('state_changed',

          function progress(snapshot) {
            var percentage = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
            uploader.value = percentage;
          },

          function error(err) {
            alert(err);

          },


          function complete() {
            console.log("archivo enviado");


          }





          )





      });








    </script>

  </body>
 </html>